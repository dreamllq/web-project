# ===========================================
# SaaS Services (Recommended for Production)
# ===========================================

# Neon PostgreSQL (Free: 0.5GB + 100 CU hours/month)
# Get your connection string at: https://neon.tech
DATABASE_URL=postgresql://username:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# ===========================================
# Local Development (Docker)
# ===========================================

# PostgreSQL Configuration (for local Docker)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
POSTGRES_DB=app

# Redis Configuration (for local Docker)
REDIS_URL=redis://localhost:6379

# ===========================================
# Application Configuration
# ===========================================

# JWT Secret (CHANGE IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Environment
NODE_ENV=development

# Database sync (only for development, auto-creates tables)
DB_SYNC=false

# ===========================================
# Authorization Configuration
# ===========================================

# ABAC-only mode for authorization
# When true: Only ABAC policies are used for permission checks
# When false: ABAC checked first, then RBAC fallback if ABAC denies
# Default: true (recommended for production after ABAC policies are configured)
USE_ABAC_ONLY=true

# ===========================================
# OAuth Configuration
# ===========================================

# WeChat Web OAuth
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret
WECHAT_REDIRECT_URI=http://localhost:3001/api/auth/oauth/wechat/callback

# WeChat Miniprogram
WECHAT_MINIPROGRAM_APP_ID=your_wechat_miniprogram_app_id
WECHAT_MINIPROGRAM_APP_SECRET=your_wechat_miniprogram_app_secret

# DingTalk Miniprogram
DINGTALK_MINIPROGRAM_APP_KEY=your_dingtalk_app_key
DINGTALK_MINIPROGRAM_APP_SECRET=your_dingtalk_app_secret

# ===========================================
# Frontend URLs
# ===========================================
FRONTEND_URL=http://localhost:3001
ADMIN_URL=http://localhost:3002

# ===========================================
# Docker Internal URLs
# ===========================================
# Use these when services talk to each other inside Docker network
POSTGRES_HOST_DOCKER=postgres
REDIS_HOST_DOCKER=redis
